!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=117)}([function(t,n,e){var r=e(44)("wks"),o=e(18),i=e(1).Symbol,u="function"==typeof i,c=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};c.store=r},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===("undefined"==typeof t?"undefined":e(t))?null!==t:"function"==typeof t}},function(t,n,e){var r=e(7),o=e(34),i=e(45),u=Object.defineProperty;n.f=e(3)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(6),o=e(15);t.exports=e(3)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(1),o=e(9),i=e(4),u=e(18)("src"),c="toString",s=Function[c],a=(""+s).split(c);e(2).inspectSource=function(t){return s.call(t)},(t.exports=function(t,n,e,c){var s="function"==typeof e;s&&(i(e,"name")||o(e,"name",n)),t[n]!==e&&(s&&(i(e,u)||o(e,u,t[n]?""+t[n]:a.join(String(n)))),t===r?t[n]=e:c?t[n]?t[n]=e:o(t,n,e):(delete t[n],o(t,n,e)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||s.call(this)})},function(t,n,e){var r=e(58);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(1),o=e(2),i=e(9),u=e(10),c=e(11),s="prototype",a=function t(n,e,a){var f,l,p,d,h=n&t.F,v=n&t.G,y=n&t.S,m=n&t.P,b=n&t.B,g=v?r:y?r[e]||(r[e]={}):(r[e]||{})[s],w=v?o:o[e]||(o[e]={}),_=w[s]||(w[s]={});v&&(a=e);for(f in a)l=!h&&g&&void 0!==g[f],p=(l?g:a)[f],d=b&&l?c(p,r):m&&"function"==typeof p?c(Function.call,p):p,g&&u(g,f,p,n&t.U),w[f]!=p&&i(w,f,d),m&&_[f]!=p&&(_[f]=p)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n){t.exports={}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){var r=e(35),o=e(14);t.exports=function(t){return r(o(t))}},function(t,n,e){var r=e(14);t.exports=function(t){return Object(r(t))}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n,e){"use strict";var r=e(67),o=e(12),i=e(10),u=e(9),c=e(4),s=e(13),a=e(66),f=e(21),l=e(72),p=e(0)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",y="values",m=function(){return this};t.exports=function(t,n,e,b,g,w,_){a(e,n,b);var S,x,k,j=function(t){if(!d&&t in P)return P[t];switch(t){case v:return function(){return new e(this,t)};case y:return function(){return new e(this,t)}}return function(){return new e(this,t)}},O=n+" Iterator",T=g==y,E=!1,P=t.prototype,A=P[p]||P[h]||g&&P[g],C=A||j(g),L=g?T?j("entries"):C:void 0,M="Array"==n?P.entries||A:A;if(M&&(k=l(M.call(new t)),k!==Object.prototype&&(f(k,O,!0),r||c(k,p)||u(k,p,m))),T&&A&&A.name!==y&&(E=!0,C=function(){return A.call(this)}),r&&!_||!d&&!E&&P[p]||u(P,p,C),s[n]=C,s[O]=m,g)if(S={values:T?C:j(y),keys:w?C:j(v),entries:L},_)for(x in S)x in P||i(P,x,S[x]);else o(o.P+o.F*(d||E),n,S);return S}},function(t,n,e){var r=e(73),o=e(32);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(6).f,o=e(4),i=e(0)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(44)("keys"),o=e(18);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n){function e(t){var n="undefined"==typeof t?"undefined":r(t);return null!=t&&("object"==n||"function"==n)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=e},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function o(t){var n=t.document;if("currentScript"in n)return n.currentScript.src;var e=/topspin(?:-ab)?.js$/,o=n.getElementsByTagName("script"),i=[].concat(r(o)).map(function(t){return t.src}).filter(function(t){return e.test(t)});return i.length?i[0]:""}function i(t,n){var e=new RegExp("[?&]"+n+"=([^&#]*)","i"),r=e.exec(t);return r?r[1]:void 0}function u(t){if("hidden"in t)return"hidden";var n=["webkit","moz","ms","o"].filter(function(n){return n+"Hidden"in t});return n.length?n[0]+"Hidden":void 0}function c(t){var n=u(t);return!n||!t[n]}function s(t,n,e){var r=window.document.documentElement,o={type:t,event:n,stringOrCallback:e},i=void 0;try{i=new CustomEvent("send",{bubbles:!0,detail:o})}catch(t){i=document.createEvent("CustomEvent"),i.initCustomEvent("send",!0,!1,o)}r.dispatchEvent(i)}n.a=o,n.b=i,n.d=u,n.c=c,n.e=s},function(t,n){var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(e=window)}t.exports=e},function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var r=e(30),o=e(0)("toStringTag"),i="Arguments"==r(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,e,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=u(n=Object(t),o))?e:i?r(n):"Object"==(c=r(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(5),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var r=e(11),o=e(37),i=e(36),u=e(7),c=e(24),s=e(46),a={},f={},n=t.exports=function(t,n,e,l,p){var d,h,v,y,m=p?function(){return t}:s(t),b=r(e,l,n?2:1),g=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(d=c(t.length);d>g;g++)if(y=n?b(u(h=t[g])[0],h[1]):b(t[g]),y===a||y===f)return y}else for(v=m.call(t);!(h=v.next()).done;)if(y=o(v,b,h.value,n),y===a||y===f)return y};n.BREAK=a,n.RETURN=f},function(t,n,e){t.exports=!e(3)&&!e(8)(function(){return 7!=Object.defineProperty(e(31)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(30);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(13),o=e(0)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,n,e){var r=e(7);t.exports=function(t,n,e,o){try{return o?n(r(e)[0],e[1]):n(e)}catch(n){var i=t.return;throw void 0!==i&&r(i.call(t)),n}}},function(t,n,e){var r=e(0)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var e=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:e=!0}},i[r]=function(){return u},t(i)}catch(t){}return e}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(18)("meta"),i=e(5),u=e(4),c=e(6).f,s=0,a=Object.isExtensible||function(){return!0},f=!e(8)(function(){return a(Object.preventExtensions({}))}),l=function(t){c(t,o,{value:{i:"O"+ ++s,w:{}}})},p=function(t,n){if(!i(t))return"symbol"==("undefined"==typeof t?"undefined":r(t))?t:("string"==typeof t?"S":"P")+t;if(!u(t,o)){if(!a(t))return"F";if(!n)return"E";l(t)}return t[o].i},d=function(t,n){if(!u(t,o)){if(!a(t))return!0;if(!n)return!1;l(t)}return t[o].w},h=function(t){return f&&v.NEED&&a(t)&&!u(t,o)&&l(t),t},v=t.exports={KEY:o,NEED:!1,fastKey:p,getWeak:d,onFreeze:h}},function(t,n,e){var r=e(7),o=e(69),i=e(32),u=e(22)("IE_PROTO"),c=function(){},s="prototype",a=function(){var t,n=e(31)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(64).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[s][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(c[s]=r(t),e=new c,c[s]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(10);t.exports=function(t,n,e){for(var o in n)r(t,o,n[o],e);return t}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n,e){var r=e(5);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(29),o=e(0)("iterator"),i=e(13);t.exports=e(2).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,n,e){"use strict";var r=e(77)(!0);e(19)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){var r=e(49),o=r.Symbol;t.exports=o},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=e(88),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,u=o||i||Function("return this")();t.exports=u},function(t,n,e){e(84),e(47),e(85),e(81),t.exports=e(2).Map},function(t,n,e){e(47),e(79),t.exports=e(2).Array.from},function(t,n,e){e(82),t.exports=e(2).Object.assign},function(t,n,e){e(83),t.exports=e(2).Object.keys},function(t,n,e){"use strict";t.exports=e(86).polyfill()},function(t,n,e){var r,o,i;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,u){o=[],r=u,i="function"==typeof r?r.apply(n,o):r,!(void 0!==i&&(t.exports=i))}(this,function(){function t(t,n){t=t.push?t:[t];var e,r,o,i,u=[],a=t.length,f=a;for(e=function(t,e){e.length&&u.push(t),f--,f||n(u)};a--;)r=t[a],o=c[r],o?e(r,o):(i=s[r]=s[r]||[],i.push(e))}function n(t,n){if(t){var e=s[t];if(c[t]=n,e)for(;e.length;)e[0](t,n),e.splice(0,1)}}function e(t,n,r,o){var u,c,s=document,a=r.async,f=(r.numRetries||0)+1,l=r.before||i;o=o||0,/\.css$/.test(t)?(u=!0,c=s.createElement("link"),c.rel="stylesheet",c.href=t):(c=s.createElement("script"),c.src=t,c.async=void 0===a||a),c.onload=c.onerror=c.onbeforeload=function(i){var s=i.type[0];if(u&&"hideFocus"in c)try{c.sheet.cssText.length||(s="e")}catch(t){s="e"}return"e"==s&&(o+=1,o<f)?e(t,n,r,o):void n(t,s,i.defaultPrevented)},l(t,c),s.head.appendChild(c)}function r(t,n,r){t=t.push?t:[t];var o,i,u=t.length,c=u,s=[];for(o=function(t,e,r){if("e"==e&&s.push(t),"b"==e){if(!r)return;s.push(t)}u--,u||n(s)},i=0;i<c;i++)e(t[i],o,r)}function o(t,e,o){var c,s;if(e&&e.trim&&(c=e),s=(c?o:e)||{},c){if(c in u)throw"LoadJS";u[c]=!0}r(t,function(t){t.length?(s.error||i)(t):(s.success||i)(),n(c,t)},s)}var i=function(){},u={},c={},s={};return o.ready=function(n,e){return t(n,function(t){t.length?(e.error||i)(t):(e.success||i)()}),o},o.done=function(t){n(t,[])},o.reset=function(){u={},c={},s={}},o})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){var e={type:t};return n&&(e.params=n),e}var i=e(57),u=e.n(i),c=e(26),s=e(102),a=e(101),f=e(104),l=e(105),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),h={required:["comScoreName","brand","section","broadcaster","subBroadcaster","brandType","platform","platformType"],optional:["avType","channel","contentId","user"],divolte:"//topspin.npo.nl/divolte/tt/dvt.js"},v=function(){function t(n,e,o,i,u,c){var s=this;r(this,t),this.$window=n,this.loadjs=o,this.log=i,this.queue=[],this.configure(),this.cloneLayer(),this.loadTransport().then(function(t){s.transport=t,s.sendQueue(),s.fireEvent("topspinTransportReady")},function(t){s.log.error(t)}).catch(function(t){s.log.error(t.message)}),this.enhanceLayer(n,u,c),this.addListeners(n.document.documentElement,e,this),this.fireEvent("topspinReady"),this.checkUrlForEvent(),this.sendPage()}return d(t,[{key:"configure",value:function(){Object.assign(h,this.$window.topspinSettings);var t=c.a(this.$window),n=t.match(/\/\/topspin.npo.nl(\/tt(?:\/[^\/]*)?)\/topspin.js$/);n&&n.length>=1&&(this.log.info("Loading Divolte for "+(1===n.length?"default":n[1])),h.divolte=h.divolte.replace("/tt",n[1]))}},{key:"cloneLayer",value:function(){var t=this;this.layer={};var n=this.$window.topspinLayer;n&&(h.required.forEach(function(e){var r=n[e];!r||"string"==typeof r&&u()(r)?t.log.error("Required field topspinLayer."+e+" is not set"):t.layer[e]=r}),h.optional.forEach(function(e){n[e]&&(t.layer[e]=n[e])}))}},{key:"enhanceLayer",value:function(t,n,e){var r=this,o=new l.a(t);Object.assign(t.topspinLayer,{action:this.action.bind(this),actionWithCallback:this.actionWithCallback.bind(this),actionByTransmit:this.actionByTransmit.bind(this),decorate:this.decorateUrl.bind(this),nextView:this.sendContent.bind(this),experiment:function(e){return n?new n(e||t.topspinLayer.brand,r.transport.partyId,r.send.bind(r),r.action.bind(r)).build():r.log.error("use the topspin-ab library when running experiments")},namespace:function(n,o){return e?new e(n||t.topspinLayer.brand,o,r.transport.partyId,r.send.bind(r),r.action.bind(r)):r.log.error("use the topspin-ab library when declaring an experiment namespace")},mediaRecommender:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments[1];return new a.a(t,"media",o,n)},recorder:function(t){return new s.a(t,this.send.bind(this))},search:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return new f.a(t,n,o)},send:this.send.bind(this),sendWithCallback:this.sendWithCallback.bind(this),sendByTransmit:this.sendByTransmit.bind(this),clearUser:this.clearUser.bind(this),setUser:this.setUser.bind(this),version:"2.0.4"})}},{key:"addListeners",value:function(t,n,e){n.forEach(function(n){return t.addEventListener(n,e)})}},{key:"fireEvent",value:function(t){var n=this.$window.document,e=void 0;try{e=new Event(t,{bubbles:!0})}catch(r){e=n.createEvent("Event"),e.initEvent(t,!0,!1)}n.dispatchEvent(e)}},{key:"handleEvent",value:function(t){"send"===t.type&&this.send(t.detail.type,t.detail.event,t.detail.stringOrCallback)}},{key:"loadTransport",value:function(){var t=this;return new Promise(function(n,r){t.$window.divolte?n(t.$window.divolte):"function"==typeof define&&e(106)?"function"==typeof requirejs?requirejs([h.divolte],function(t){return n(t)}):t.log("Unsupported module loader"):t.loadjs(h.divolte,{success:function(){n(t.$window.divolte)},error:function(t){r(t)}})})}},{key:"dispatch",value:function(t,n,e){var r=e?n:Object.assign({},this.layer,n);this.transport&&this.hasConsent()?(this.sendQueue(),this.transport.signal(t,r)):this.queue.push({t:t,e:r})}},{key:"decorateUrl",value:function(t,n,e){var r=n+(/\?/.test(n)?"&":"?"),o=this.$window.encodeURIComponent(this.$window.JSON.stringify(Object.assign(this.transport?{spvid:this.transport.pageViewId}:{},this.layer,e)));return r+"ttype="+t+"&tevent="+o}},{key:"dispatchOnUrl",value:function(t,n,e){this.hasConsent()?this.$window.location.href=this.decorateUrl(t,e,n):this.$window.location.href=e}},{key:"sendQueue",value:function(){for(;this.queue.length>0;){var t=this.queue.shift();this.transport.signal(t.t,t.e)}}},{key:"checkUrlForEvent",value:function(){var t=this.$window.location.href,n=c.b(t,"ttype");if(n){var e=c.b(t,"tevent"),r=e?JSON.parse(decodeURIComponent(e)):{};this.dispatch(n,r,!0)}}},{key:"action",value:function(t,n,e){void 0!==e||"function"!=typeof n&&"string"!=typeof n||(e=n,n=void 0),this.send("action",o(t,n),e)}},{key:"actionWithCallback",value:function(t,n,e){this.sendWithCallback("action",n,o(t,e))}},{key:"actionByTransmit",value:function(t,n,e){this.sendByTransmit("action",n,o(t,e))}},{key:"send",value:function(t,n,e){void 0!==e||"function"!=typeof n&&"string"!=typeof n||(e=n,n=void 0),e&&"function"==typeof e?this.sendWithCallback(t,e,n):e&&"string"==typeof e?this.dispatchOnUrl(t,n,e):this.dispatch(t,n)}},{key:"sendWithCallback",value:function(t,n,e){this.send(t,e),n&&"function"==typeof n&&n()}},{key:"sendByTransmit",value:function(t,n,e){return this.decorateUrl(t,n,e)}},{key:"sendPage",value:function(){this.$window.topspinLayer.hasOwnProperty("sendPage")&&this.$window.topspinLayer.sendPage===!1||this.sendView("pageView")}},{key:"sendContent",value:function(t){Object.assign(this.$window.topspinLayer,t),this.cloneLayer(),this.sendView("contentView")}},{key:"sendView",value:function(t){var n=this;if(c.c(this.$window.document))this.dispatch(t);else{var e=c.d(this.$window.document);e&&!function(){var r=e.replace(/[H|h]idden/,"")+"visibilitychange",o=function e(){c.c(n.$window.document)&&(document.removeEventListener(r,e),n.dispatch(t))};document.addEventListener(r,o)}()}}},{key:"hasConsent",value:function(){return"hbbtv"===this.layer.platformType||"object"===p(this.$window.npo_cookies)&&this.$window.npo_cookies.has_permission("recommendations")}},{key:"clearUser",value:function(){delete this.layer.user}},{key:"setUser",value:function(t){this.layer.user={npoId:t.npoId,profileId:t.profileId,type:t.type}}}]),t}();n.a=v},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var n=(0,u.default)(t);return 0===n.trim().length}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e(99),u=r(i);t.exports=n.default},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(0)("unscopables"),o=Array.prototype;void 0==o[r]&&e(9)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,n,e){var r=e(16),o=e(24),i=e(78);t.exports=function(t){return function(n,e,u){var c,s=r(n),a=o(s.length),f=i(u,a);if(t&&e!=e){for(;a>f;)if(c=s[f++],c!=c)return!0}else for(;a>f;f++)if((t||f in s)&&s[f]===e)return t||f||0;return!t&&-1}}},function(t,n,e){"use strict";var r=e(6).f,o=e(41),i=e(43),u=e(11),c=e(28),s=e(14),a=e(33),f=e(19),l=e(39),p=e(76),d=e(3),h=e(40).fastKey,v=d?"_s":"size",y=function(t,n){var e,r=h(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,f){var l=t(function(t,r){c(t,l,n,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&a(r,e,t[f],t)});return i(l.prototype,{clear:function(){for(var t=this,n=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete n[e.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=this,e=y(n,t);if(e){var r=e.n,o=e.p;delete n._i[e.i],e.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==e&&(n._f=r),n._l==e&&(n._l=o),n[v]--}return!!e},forEach:function(t){c(this,l,"forEach");for(var n,e=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(e(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),d&&r(l.prototype,"size",{get:function(){return s(this[v])}}),l},def:function(t,n,e){var r,o,i=y(t,n);return i?i.v=e:(t._l=i={i:o=h(n,!0),k:n,v:e,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[v]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,e){f(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?"keys"==n?l(0,e.k):"values"==n?l(0,e.v):l(0,[e.k,e.v]):(t._t=void 0,l(1))},e?"entries":"values",!e,!0),p(n)}}},function(t,n,e){"use strict";var r=e(1),o=e(12),i=e(10),u=e(43),c=e(40),s=e(33),a=e(28),f=e(5),l=e(8),p=e(38),d=e(21),h=e(65);t.exports=function(t,n,e,v,y,m){var b=r[t],g=b,w=y?"set":"add",_=g&&g.prototype,S={},x=function(t){var n=_[t];i(_,t,"delete"==t?function(t){return!(m&&!f(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!f(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof g&&(m||_.forEach&&!l(function(){(new g).entries().next()}))){var k=new g,j=k[w](m?{}:-0,1)!=k,O=l(function(){k.has(1)}),T=p(function(t){new g(t)}),E=!m&&l(function(){for(var t=new g,n=5;n--;)t[w](n,n);return!t.has(-0)});T||(g=n(function(n,e){a(n,g,t);var r=h(new b,n,g);return void 0!=e&&s(e,y,r[w],r),r}),g.prototype=_,_.constructor=g),(O||E)&&(x("delete"),x("has"),y&&x("get")),(E||j)&&x(w),m&&_.clear&&delete _.clear}else g=v.getConstructor(n,t,y,w),u(g.prototype,e),c.NEED=!0;return d(g,t),S[t]=g,o(o.G+o.W+o.F*(g!=b),S),m||v.setStrong(g,t,y),g}},function(t,n,e){"use strict";var r=e(6),o=e(15);t.exports=function(t,n,e){n in t?r.f(t,n,o(0,e)):t[n]=e}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(5),o=e(75).set;t.exports=function(t,n,e){var i,u=n.constructor;return u!==e&&"function"==typeof u&&(i=u.prototype)!==e.prototype&&r(i)&&o&&o(t,i),t}},function(t,n,e){"use strict";var r=e(41),o=e(15),i=e(21),u={};e(9)(u,e(0)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=!1},function(t,n,e){"use strict";var r=e(20),o=e(71),i=e(42),u=e(17),c=e(35),s=Object.assign;t.exports=!s||e(8)(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r})?function(t,n){for(var e=u(t),s=arguments.length,a=1,f=o.f,l=i.f;s>a;)for(var p,d=c(arguments[a++]),h=f?r(d).concat(f(d)):r(d),v=h.length,y=0;v>y;)l.call(d,p=h[y++])&&(e[p]=d[p]);return e}:s},function(t,n,e){var r=e(6),o=e(7),i=e(20);t.exports=e(3)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),c=u.length,s=0;c>s;)r.f(t,e=u[s++],n[e]);return t}},function(t,n,e){var r=e(42),o=e(15),i=e(16),u=e(45),c=e(4),s=e(34),a=Object.getOwnPropertyDescriptor;n.f=e(3)?a:function(t,n){if(t=i(t),n=u(n,!0),s)try{return a(t,n)}catch(t){}if(c(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(4),o=e(17),i=e(22)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(4),o=e(16),i=e(60)(!1),u=e(22)("IE_PROTO");t.exports=function(t,n){var e,c=o(t),s=0,a=[];for(e in c)e!=u&&r(c,e)&&a.push(e);for(;n.length>s;)r(c,e=n[s++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){var r=e(12),o=e(2),i=e(8);t.exports=function(t,n){var e=(o.Object||{})[t]||Object[t],u={};u[t]=n(e),r(r.S+r.F*i(function(){e(1)}),"Object",u)}},function(t,n,e){var r=e(5),o=e(7),i=function(t,n){if(o(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e(11)(Function.call,e(70).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return i(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:i}},function(t,n,e){"use strict";var r=e(1),o=e(6),i=e(3),u=e(0)("species");t.exports=function(t){var n=r[t];i&&n&&!n[u]&&o.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,e){var r=e(23),o=e(14);t.exports=function(t){return function(n,e){var i,u,c=String(o(n)),s=r(e),a=c.length;return s<0||s>=a?t?"":void 0:(i=c.charCodeAt(s),i<55296||i>56319||s+1===a||(u=c.charCodeAt(s+1))<56320||u>57343?t?c.charAt(s):i:t?c.slice(s,s+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){"use strict";var r=e(11),o=e(12),i=e(17),u=e(37),c=e(36),s=e(24),a=e(63),f=e(46);o(o.S+o.F*!e(38)(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,o,l,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,y=void 0!==v,m=0,b=f(p);if(y&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==b||d==Array&&c(b))for(n=s(p.length),e=new d(n);n>m;m++)a(e,m,y?v(p[m],m):p[m]);else for(l=b.call(p),e=new d;!(o=l.next()).done;m++)a(e,m,y?u(l,v,[o.value,m],!0):o.value);return e.length=m,e}})},function(t,n,e){"use strict";var r=e(59),o=e(39),i=e(13),u=e(16);t.exports=e(19)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n,e){"use strict";var r=e(61);t.exports=e(62)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=r.getEntry(this,t);return n&&n.v},set:function(t,n){return r.def(this,0===t?0:t,n)}},r,!0)},function(t,n,e){var r=e(12);r(r.S+r.F,"Object",{assign:e(68)})},function(t,n,e){var r=e(17),o=e(20);e(74)("keys",function(){return function(t){return o(r(t))}})},function(t,n,e){"use strict";var r=e(29),o={};o[e(0)("toStringTag")]="z",o+""!="[object z]"&&e(10)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,n,e){for(var r=e(80),o=e(10),i=e(1),u=e(9),c=e(13),s=e(0),a=s("iterator"),f=s("toStringTag"),l=c.Array,p=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;d<5;d++){var h,v=p[d],y=i[v],m=y&&y.prototype;if(m){m[a]||u(m,a,l),m[f]||u(m,f,v),c[v]=l;for(h in r)m[h]||o(m,h,r[h],!0)}}},function(t,n,e){(function(r,o){var i,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */
!function(r,o){"object"===c(n)&&"undefined"!=typeof t?t.exports=o():(i=o,u="function"==typeof i?i.call(n,e,n,t):i,!(void 0!==u&&(t.exports=u)))}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"===("undefined"==typeof t?"undefined":c(t))&&null!==t}function n(t){return"function"==typeof t}function i(t){J=t}function u(t){Q=t}function s(){return function(){return r.nextTick(d)}}function a(){return"undefined"!=typeof G?function(){G(d)}:p()}function f(){var t=0,n=new tt(d),e=document.createTextNode("");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=d,function(){return t.port2.postMessage(0)}}function p(){var t=setTimeout;return function(){return t(d,1)}}function d(){for(var t=0;t<Y;t+=2){var n=rt[t],e=rt[t+1];n(e),rt[t]=void 0,rt[t+1]=void 0}Y=0}function h(){try{var t=e(107);return G=t.runOnLoop||t.runOnContext,a()}catch(t){return p()}}function v(t,n){var e=arguments,r=this,o=new this.constructor(m);void 0===o[it]&&F(o);var i=r._state;return i?!function(){var t=e[i-1];Q(function(){return M(i,o,t,r._result)})}():P(r,o,t,n),o}function y(t){var n=this;if(t&&"object"===("undefined"==typeof t?"undefined":c(t))&&t.constructor===n)return t;var e=new n(m);return j(e,t),e}function m(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(t){return at.error=t,at}}function _(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}function S(t,n,e){Q(function(t){var r=!1,o=_(e,n,function(e){r||(r=!0,n!==e?j(t,e):T(t,e))},function(n){r||(r=!0,E(t,n))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function x(t,n){n._state===ct?T(t,n._result):n._state===st?E(t,n._result):P(n,void 0,function(n){return j(t,n)},function(n){return E(t,n)})}function k(t,e,r){e.constructor===t.constructor&&r===v&&e.constructor.resolve===y?x(t,e):r===at?E(t,at.error):void 0===r?T(t,e):n(r)?S(t,e,r):T(t,e)}function j(n,e){n===e?E(n,b()):t(e)?k(n,e,w(e)):T(n,e)}function O(t){t._onerror&&t._onerror(t._result),A(t)}function T(t,n){t._state===ut&&(t._result=n,t._state=ct,0!==t._subscribers.length&&Q(A,t))}function E(t,n){t._state===ut&&(t._state=st,t._result=n,Q(O,t))}function P(t,n,e,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=n,o[i+ct]=e,o[i+st]=r,0===i&&t._state&&Q(A,t)}function A(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r=void 0,o=void 0,i=t._result,u=0;u<n.length;u+=3)r=n[u],o=n[u+e],r?M(e,r,o,i):o(i);t._subscribers.length=0}}function C(){this.error=null}function L(t,n){try{return t(n)}catch(t){return ft.error=t,ft}}function M(t,e,r,o){var i=n(r),u=void 0,c=void 0,s=void 0,a=void 0;if(i){if(u=L(r,o),u===ft?(a=!0,c=u.error,u=null):s=!0,e===u)return void E(e,g())}else u=o,s=!0;e._state!==ut||(i&&s?j(e,u):a?E(e,c):t===ct?T(e,u):t===st&&E(e,u))}function $(t,n){try{n(function(n){j(t,n)},function(n){E(t,n)})}catch(n){E(t,n)}}function I(){return lt++}function F(t){t[it]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function U(t,n){this._instanceConstructor=t,this.promise=new t(m),this.promise[it]||F(this.promise),K(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):E(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function N(t){return new U(this,t).promise}function W(t){var n=this;return new n(K(t)?function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)}:function(t,n){return n(new TypeError("You must pass an array to race."))})}function q(t){var n=this,e=new n(m);return E(e,t),e}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(t){this[it]=I(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&B(),this instanceof V?$(this,t):D())}function z(){var t=void 0;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var e=null;try{e=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===e&&!n.cast)return}t.Promise=V}var H=void 0;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var K=H,Y=0,G=void 0,J=void 0,Q=function(t,n){rt[Y]=t,rt[Y+1]=n,Y+=2,2===Y&&(J?J(d):ot())},X="undefined"!=typeof window?window:void 0,Z=X||{},tt=Z.MutationObserver||Z.WebKitMutationObserver,nt="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3),ot=void 0;ot=nt?s():tt?f():et?l():void 0===X?h():p();var it=Math.random().toString(36).substring(16),ut=void 0,ct=1,st=2,at=new C,ft=new C,lt=0;return U.prototype._enumerate=function(){for(var t=this.length,n=this._input,e=0;this._state===ut&&e<t;e++)this._eachEntry(n[e],e)},U.prototype._eachEntry=function(t,n){var e=this._instanceConstructor,r=e.resolve;if(r===y){var o=w(t);if(o===v&&t._state!==ut)this._settledAt(t._state,n,t._result);else if("function"!=typeof o)this._remaining--,this._result[n]=t;else if(e===V){var i=new e(m);k(i,t,o),this._willSettleAt(i,n)}else this._willSettleAt(new e(function(n){return n(t)}),n)}else this._willSettleAt(r(t),n)},U.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===ut&&(this._remaining--,t===st?E(r,e):this._result[n]=e),0===this._remaining&&T(r,this._result)},U.prototype._willSettleAt=function(t,n){var e=this;P(t,void 0,function(t){return e._settledAt(ct,n,t)},function(t){return e._settledAt(st,n,t)})},V.all=N,V.race=W,V.resolve=y,V.reject=q,V._setScheduler=i,V._setAsap=u,V._asap=Q,V.prototype={constructor:V,then:v,catch:function(t){return this.then(null,t)}},V.polyfill=z,V.Promise=V,V})}).call(n,e(97),e(27))},function(t,n,e){function r(t){return null==t?void 0===t?s:c:a&&a in Object(t)?i(t):u(t)}var o=e(48),i=e(89),u=e(90),c="[object Null]",s="[object Undefined]",a=o?o.toStringTag:void 0;t.exports=r},function(t,n,e){(function(n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==("undefined"==typeof n?"undefined":e(n))&&n&&n.Object===Object&&n;t.exports=r}).call(n,e(27))},function(t,n,e){function r(t){var n=u.call(t,s),e=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(n?t[s]=e:delete t[s]),o}var o=e(48),i=Object.prototype,u=i.hasOwnProperty,c=i.toString,s=o?o.toStringTag:void 0;t.exports=r},function(t,n){function e(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=e},function(t,n,e){function r(t,n,e){function r(n){var e=b,r=g;return b=g=void 0,k=n,_=t.apply(r,e)}function f(t){return k=t,S=setTimeout(d,n),j?r(t):_}function l(t){var e=t-x,r=t-k,o=n-e;return O?a(o,w-r):o}function p(t){var e=t-x,r=t-k;return void 0===x||e>=n||e<0||O&&r>=w}function d(){var t=i();return p(t)?h(t):void(S=setTimeout(d,l(t)))}function h(t){return S=void 0,T&&b?r(t):(b=g=void 0,_)}function v(){void 0!==S&&clearTimeout(S),k=0,b=x=g=S=void 0}function y(){return void 0===S?_:h(i())}function m(){var t=i(),e=p(t);if(b=arguments,g=this,x=t,e){if(void 0===S)return f(x);if(O)return S=setTimeout(d,n),r(x)}return void 0===S&&(S=setTimeout(d,n)),_}var b,g,w,_,S,x,k=0,j=!1,O=!1,T=!0;if("function"!=typeof t)throw new TypeError(c);return n=u(n)||0,o(e)&&(j=!!e.leading,O="maxWait"in e,w=O?s(u(e.maxWait)||0,n):w,T="trailing"in e?!!e.trailing:T),m.cancel=v,m.flush=y,m}var o=e(25),i=e(94),u=e(96),c="Expected a function",s=Math.max,a=Math.min;t.exports=r},function(t,n){function e(t){return null!=t&&"object"==("undefined"==typeof t?"undefined":r(t))}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=e},function(t,n,e){function r(t){return"symbol"==("undefined"==typeof t?"undefined":o(t))||u(t)&&i(t)==c}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=e(87),u=e(92),c="[object Symbol]";t.exports=r},function(t,n,e){var r=e(49),o=function(){return r.Date.now()};t.exports=o},function(t,n,e){function r(t,n,e){var r=!0,c=!0;if("function"!=typeof t)throw new TypeError(u);return i(e)&&(r="leading"in e?!!e.leading:r,c="trailing"in e?!!e.trailing:c),o(t,n,{leading:r,maxWait:n,trailing:c})}var o=e(91),i=e(25),u="Expected a function";t.exports=r},function(t,n,e){function r(t){if("number"==typeof t)return t;if(i(t))return u;if(o(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=o(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var e=a.test(t);return e||f.test(t)?l(t.slice(2),e?2:8):s.test(t)?u:+t}var o=e(25),i=e(93),u=NaN,c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;t.exports=r},function(t,n){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===e||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(n){try{return f.call(null,t,0)}catch(n){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){v&&d&&(v=!1,d.length?h=d.concat(h):y=-1,h.length&&c())}function c(){if(!v){var t=o(u);v=!0;for(var n=h.length;n;){for(d=h,h=[];++y<n;)d&&d[y].run();y=-1,n=h.length}d=null,v=!1,i(t)}}function s(t,n){this.fun=t,this.array=n}function a(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:e}catch(t){f=e}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,h=[],v=!1,y=-1;p.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];h.push(new s(t,n)),1!==h.length||v||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,n,e){"use strict";function r(t){return void 0===t||null===t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,u.default)(t)?n:(0,s.default)(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e(98),u=r(i),c=e(100),s=r(c);t.exports=n.default},function(t,n,e){"use strict";function r(t){return"string"==typeof t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,t.exports=n.default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t){if("media"===t)return t;throw new Error("Unknown type: "+t)}function i(t,n,e,r){var o={panel:t.panel,recommender:n.recommender,dest:{id:n.midRef,index:e},max:r};return t.source&&(o.source=t.source),o}var u=e(26),c=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=void 0,a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"media",i=arguments[2],u=arguments[3];r(this,t),this.source=u,this.type=o(e),this.panel=n,s=i}return c(t,[{key:"offer",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,c=arguments[3];c&&c.nodeName?s.addAction(c,function(){e.i(u.e)(f[r.type][0],i(r,t,n,o))}):e.i(u.e)(f[this.type][0],i(this,t,n,o))}},{key:"choice",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=arguments[3];e.i(u.e)(f[this.type][1],i(this,t,n,r),o)}}]),t}();n.a=a;var f={media:["mediaOffer","mediaChoice"]}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n,e){var r={id:t.mid,playerId:t.playerId,position:c(n)};return e=e||t.duration,e&&(r.length=c(e)),r}function i(t,n,e){var r=o(t,n,e);return t.position=r.position,r}function u(){return Date.now()/1e3}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Math.round(t);return isNaN(n)?0:n}var s=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(){function t(n,e){r(this,t),void 0===t.counter&&(t.counter=0),this.mid=n,this.position=0,this.playerId=t.counter,t.counter+=1,f=e}return s(t,[{key:"load",value:function(){f("streamLoad",{id:this.mid,playerId:this.playerId})}},{key:"adStart",value:function(){return this.adStartTime?void this.adResume():(f("streamAdStart",o(this,this,0)),void(this.adStartTime=u()))}},{key:"adPause",value:function(){void 0!==this.adStartTime&&void 0===this.adPauseTime&&(this.adPauseTime=u(),f("streamAdPause",o(this,this.adPauseTime-this.adStartTime)))}},{key:"adResume",value:function(){void 0!==this.adStartTime&&void 0!==this.adPauseTime&&(f("streamAdResume",o(this,this.adPauseTime-this.adStartTime)),this.adStartTime=u()-(this.adPauseTime?this.adPauseTime-this.adStartTime:0),this.adPauseTime=void 0)}},{key:"adTime",value:function(){}},{key:"adSkip",value:function(){}},{key:"adComplete",value:function(){if(void 0!==this.adStartTime){var t=u()-this.adStartTime,n=o(this,t);this.adLength=c((this.adLength||0)+t),n.adLength=this.adLength,f("streamAdComplete",n),this.adPauseTime=void 0,this.adStartTime=void 0}}},{key:"start",value:function(t){f("streamStart",i(this,t))}},{key:"pause",value:function(t){f("streamPause",i(this,t))}},{key:"resume",value:function(t){f("streamResume",i(this,t))}},{key:"seek",value:function(t,n){t=c(t),n=c(n),f("streamSeek",{id:this.mid,playerId:this.playerId,from:t,to:n}),this.position=n}},{key:"complete",value:function(t){f("streamComplete",i(this,t))}},{key:"fullscreen",value:function(t){f("streamFullscreen",o(this,t))}},{key:"windowed",value:function(t){f("streamWindowed",o(this,t))}},{key:"time",value:function(t,n){t=c(t),this.duration=c(n),t-this.position>=30&&f("streamWaypoint",i(this,t,n))}},{key:"volume",value:function(){}},{key:"mute",value:function(){}}],[{key:"init",value:function(){t.counter=0}}]),t}();n.a=a;var f=void 0},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=["avTypes","broadcasters","genres","objectTypes","sortDates","types","other"],u=function(){function t(){var n=this;r(this,t);var e={};i.forEach(function(t){Object.defineProperty(n,t,{get:function(){return e[t]},set:function(n){void 0===n||0===n.length?delete e[t]:e[t]=n},enumerable:!0})})}return o(t,[{key:"dateRange",value:function(t,n){function e(t){return t&&t instanceof Date?t.getTime():t?new Date(t).getTime():void 0}return{from:e(t),to:e(n)}}}]),t}();n.a=u},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n,r,o){e.i(s.e)("searchOffer",u(o,t,n,r))}function i(t){var n=Object.assign({},t);return t.filter&&(n.filter={},Object.keys(t.filter).forEach(function(e){t.filter[e]&&(n.filter[e]=t.filter[e])})),n}function u(t,n,e,r){return Object.assign({},i(t),n,{offset:e,max:r})}var c=e(103),s=e(26),a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),f=void 0,l=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2];r(this,t),this.event={query:n},e&&(this.event.panel=e),f=o}return a(t,[{key:"query",value:function(t){this.event.query=t}},{key:"filter",value:function(t){return t?this.event.filter=new c.a:delete this.event.filter,this.event.filter}},{key:"offer",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments[3];i&&i.nodeName?f.addAction(i,function(){o(t,n,r,e.event)}):o(t,n,r,this.event)}},{key:"choice",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=arguments[3],i=u(this.event,t,n,r);e.i(s.e)("searchChoice",i,o)}}]),t}();n.a=l},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=e(95),i=e.n(o),u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c=new Map,s=void 0,a=function(){function t(n){r(this,t),this.$window=n,this.body=n.document.body,s=n.innerHeight,n.addEventListener("resize",i()(function(){s=n.innerHeight},500)),n.addEventListener("scroll",i()(this.detect.bind(this),200))}return u(t,[{key:"detect",value:function(){var t=this;c.forEach(function(n,e){t.isVisible(e)&&(n.method(e),n.options.multiple||c.delete(e))})}},{key:"isVisible",value:function(t){var n=t.getBoundingClientRect(),e=.2*n.height,r=n.top<0,o=n.bottom>s;return!(!r||!o)||(!r&&!o||(!!(r&&n.bottom>e)||!!(o&&s-n.top>e)))}},{key:"addAction",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isVisible(t)&&(n(t),!e.multiple)||c.set(t,{method:n,options:e})}}]),t}();n.a=a},function(t,n){(function(n){t.exports=n}).call(n,{})},function(t,n){},,,,,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(54),o=(e.n(r),e(52)),i=(e.n(o),e(53)),u=(e.n(i),e(51)),c=(e.n(u),e(50)),s=(e.n(c),e(55)),a=e.n(s),f=e(56);!function(){var t=["click","send"],n={info:console.log,error:console.log};return new f.a(window,t,a.a,n)}()}]);
//# sourceMappingURL=topspin.js.map